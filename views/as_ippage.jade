doctype html
html
  title Log analysis
  head
    style(type='text/css').
      <!--
      .divshowid{
      text-align:center;
      color:#83AF9B;
      }
      .div4welcome{
      margin: 50px 0px 0px 20px;
      text-align:center;
      font-size:100px;
      color:#83AF9B;
      }
      .div4analysisbtn{
      text-align:center;
      font-size:30px;
      color:#83AF9B;
      }
      .div4input{
      text-align:center;
      }
      .div4ahref{
      margin: 10px 0px 0px 10px;
      text-align:center;
      color:#D8D8D8;
      }
      a:link {color: #A4A4A4; font-size: 9pt}
      a:visited {color : #A4A4A4; font-size: 9pt}
      a:hover {color : black; font-size: 9pt}
      a:active {color : #A4A4A4; font-size: 9pt}
      //-->
    link(href='https://cdnjs.cloudflare.com/ajax/libs/c3/0.4.10/c3.min.css', rel='stylesheet')
    script(src='https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.5/d3.min.js')
    script(src='https://cdnjs.cloudflare.com/ajax/libs/c3/0.4.10/c3.min.js')
    script(type='text/javascript').
      onReady('#chart', function() {
      var chart = c3.generate({
      data: {
      columns: [
      ["#{data[0].ip}",#{data[0].count}],
      ["#{data[1].ip}",#{data[1].count}],
      ["#{data[2].ip}",#{data[2].count}],
      ["#{data[3].ip}",#{data[3].count}],
      ["#{data[4].ip}",#{data[4].count}],
      ["#{data[5].ip}",#{data[5].count}],
      ["#{data[6].ip}",#{data[6].count}],
      ["#{data[7].ip}",#{data[7].count}]
      ],
      type : 'pie'
      }
      });
      });

      // Set a timeout so that we can ensure that the `chart` element is created.
      function onReady(selector, callback) {
      var intervalID = window.setInterval(function() {
      if (document.querySelector(selector) !== undefined) {
      window.clearInterval(intervalID);
      callback.call(this);
      }
      }, 500);
      }
      
  body
    | Welcome -----   
    .divshowid
      div 안녕하세요! #{id}님!
    .div4ahref
      a(href='#') Setting | &nbsp;&nbsp;
      a(href='#') Logout
    .div4analysisbtn
      form(method='get')
        button(type='submit',formaction='/analysis') Log Analysis
        button(type='submit',formaction='/hackanalysis') Hacking  Analysis
    .div4welcome
      span
        | Log analysis!
    .div4input
      form(method='get')
        button(type='button',onclick="show_eventnumber()")   Event  number  
        button(type='button')    IP  Analysis  
        button(type='button',onclick="show_proto()") Protocol Analysis
        button(type='button',onclick="show_page()")  Page  Analysis  
        button(type='button',onclick="show_status()")  Status Analysis
        br
        br
        br
        br
    #chart
    .div4ahref
      a(href='#') Save as ".jpg" | &nbsp;&nbsp;
      a(href='#', id="exec", onclick="download()") Save as ".exec"
      
script.
    function show_eventnumber() {
        window.location.href = '/analysis_eventnumber';
        return false;
    }
    function show_proto() {
        window.location.href = '/analysis_proto';
        return false;
    }
    function show_page() {
        window.location.href = '/analysis_page';
        return false;
    }
    function show_status() {
        window.location.href = '/analysis_status';
        return false;
    }
    function download() {
    var myCsv = "Col1,Col2,Col3\nval1,val2,val3";
    window.open('data:text/csv;charset=utf-8,' + escape(myCsv));
    }
      